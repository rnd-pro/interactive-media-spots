import Symbiote, { html, css } from '@symbiotejs/symbiote';

/** @type {Object<string, string>} */
let ICONS = {
  play: 'M320-200v-560l440 280-440 280Z',
  stop: 'M240-240v-480h480v480H240Z',
  manual: 'M402-40q-30 0-56-13.5T303-92L48-465l24-23q19-19 45-22t47 12l116 81v-383q0-17 11.5-28.5T320-840q17 0 28.5 11.5T360-800v320h80v-400q0-17 11.5-28.5T480-920q17 0 28.5 11.5T520-880v400h80v-360q0-17 11.5-28.5T640-880q17 0 28.5 11.5T680-840v360h80v-280q0-17 11.5-28.5T800-800q17 0 28.5 11.5T840-760v560q0 66-47 113T680-40H402Z',
  fs_on: 'M120-120v-200h80v120h120v80H120Zm520 0v-80h120v-120h80v200H640ZM120-640v-200h200v80H200v120h-80Zm640 0v-120H640v-80h200v200h-80Z',
  fs_off: 'M240-120v-120H120v-80h200v200h-80Zm400 0v-200h200v80H720v120h-80ZM120-640v-80h120v-120h80v200H120Zm520 0v-200h80v120h120v80H640Z',
  zoom_in: 'M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Zm-40-60v-80h-80v-80h80v-80h80v80h80v80h-80v80h-80Z',
  zoom_out: 'M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400ZM280-540v-80h200v80H280Z',
  blur: 'M120-380q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm0-160q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm120 340q-17 0-28.5-11.5T200-240q0-17 11.5-28.5T240-280q17 0 28.5 11.5T280-240q0 17-11.5 28.5T240-200Zm0-160q-17 0-28.5-11.5T200-400q0-17 11.5-28.5T240-440q17 0 28.5 11.5T280-400q0 17-11.5 28.5T240-360Zm0-160q-17 0-28.5-11.5T200-560q0-17 11.5-28.5T240-600q17 0 28.5 11.5T280-560q0 17-11.5 28.5T240-520Zm0-160q-17 0-28.5-11.5T200-720q0-17 11.5-28.5T240-760q17 0 28.5 11.5T280-720q0 17-11.5 28.5T240-680Zm160 340q-25 0-42.5-17.5T340-400q0-25 17.5-42.5T400-460q25 0 42.5 17.5T460-400q0 25-17.5 42.5T400-340Zm0-160q-25 0-42.5-17.5T340-560q0-25 17.5-42.5T400-620q25 0 42.5 17.5T460-560q0 25-17.5 42.5T400-500Zm0 300q-17 0-28.5-11.5T360-240q0-17 11.5-28.5T400-280q17 0 28.5 11.5T440-240q0 17-11.5 28.5T400-200Zm0-480q-17 0-28.5-11.5T360-720q0-17 11.5-28.5T400-760q17 0 28.5 11.5T440-720q0 17-11.5 28.5T400-680Zm0 580q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm0-720q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm160 480q-25 0-42.5-17.5T500-400q0-25 17.5-42.5T560-460q25 0 42.5 17.5T620-400q0 25-17.5 42.5T560-340Zm0-160q-25 0-42.5-17.5T500-560q0-25 17.5-42.5T560-620q25 0 42.5 17.5T620-560q0 25-17.5 42.5T560-500Zm0 300q-17 0-28.5-11.5T520-240q0-17 11.5-28.5T560-280q17 0 28.5 11.5T600-240q0 17-11.5 28.5T560-200Zm0-480q-17 0-28.5-11.5T520-720q0-17 11.5-28.5T560-760q17 0 28.5 11.5T600-720q0 17-11.5 28.5T560-680Zm0 580q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm0-720q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm160 620q-17 0-28.5-11.5T680-240q0-17 11.5-28.5T720-280q17 0 28.5 11.5T760-240q0 17-11.5 28.5T720-200Zm0-160q-17 0-28.5-11.5T680-400q0-17 11.5-28.5T720-440q17 0 28.5 11.5T760-400q0 17-11.5 28.5T720-360Zm0-160q-17 0-28.5-11.5T680-560q0-17 11.5-28.5T720-600q17 0 28.5 11.5T760-560q0 17-11.5 28.5T720-520Zm0-160q-17 0-28.5-11.5T680-720q0-17 11.5-28.5T720-760q17 0 28.5 11.5T760-720q0 17-11.5 28.5T720-680Zm120 300q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm0-160q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Z',
  blur_off: 'M792-56 56-792l56-56 736 736-56 56Zm-392-44q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm160 0q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6ZM240-200q-17 0-28.5-11.5T200-240q0-17 11.5-28.5T240-280q17 0 28.5 11.5T280-240q0 17-11.5 28.5T240-200Zm160 0q-17 0-28.5-11.5T360-240q0-17 11.5-28.5T400-280q17 0 28.5 11.5T440-240q0 17-11.5 28.5T400-200Zm160 0q-17 0-28.5-11.5T520-240q0-17 11.5-28.5T560-280q17 0 28.5 11.5T600-240q0 17-11.5 28.5T560-200ZM400-340q-26 0-43-17t-17-43q0-26 17-43t43-17q26 0 43 17t17 43q0 26-17 43t-43 17Zm-160-20q-17 0-28.5-11.5T200-400q0-17 11.5-28.5T240-440q17 0 28.5 11.5T280-400q0 17-11.5 28.5T240-360Zm472-1-31-31q-4-20 8.5-34t30.5-14q17 0 28.5 11.5T760-400q0 18-14 30.5t-34 8.5Zm-592-19q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm720 0q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6ZM572-502l-70-70q5-21 20-34.5t38-13.5q26 0 43 17t17 43q0 23-14 38.5T572-502Zm-332-18q-17 0-28.5-11.5T200-560q0-17 11.5-28.5T240-600q17 0 28.5 11.5T280-560q0 17-11.5 28.5T240-520Zm480 0q-17 0-28.5-11.5T680-560q0-17 11.5-28.5T720-600q17 0 28.5 11.5T760-560q0 17-11.5 28.5T720-520Zm-600-20q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm720 0q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6ZM560-680q-17 0-28.5-11.5T520-720q0-17 11.5-28.5T560-760q17 0 28.5 11.5T600-720q0 17-11.5 28.5T560-680Zm-167-1-32-32q-3-20 9-33.5t30-13.5q17 0 28.5 11.5T440-720q0 18-13.5 30t-33.5 9Zm327 1q-17 0-28.5-11.5T680-720q0-17 11.5-28.5T720-760q17 0 28.5 11.5T760-720q0 17-11.5 28.5T720-680ZM400-820q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm160 0q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Z',
  left: 'M560-240 320-480l240-240 56 56-184 184 184 184-56 56Z',
  right: 'M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z',
  pause: 'M560-200v-560h160v560H560Zm-320 0v-560h160v560H240Z',
  mute: 'M778.92-74.46 658.31-195.08q-20.77 13.31-43.77 23.08-23 9.77-47.62 16.38v-62q12.85-4.61 25-9.42 12.16-4.81 23-11.42L471.54-381.85v173.38L300-380H151.54v-200h121.85L79.85-773.54 122-815.69l699.07 699.07-42.15 42.16Zm-19.54-216.23-43-43q20.85-32.54 31.85-69.81t11-77.5q0-90.92-52.88-163.38-52.89-72.47-139.43-100v-62Q679-776.46 749.11-686.46q70.12 90 70.12 205.46 0 52.62-15.65 101.04-15.66 48.42-44.2 89.27ZM636.92-413.15l-70-70v-145q40.46 22 62.54 61.96T651.54-480q0 17.69-3.66 34.5-3.65 16.81-10.96 32.35ZM471.54-578.54l-86.31-86.69 86.31-86.3v172.99Z',
  unmute: 'M561.54-155.62v-62q86.54-27.53 139.42-100 52.89-72.46 52.89-163.38t-52.89-163.38q-52.88-72.47-139.42-100v-62q111.69 29.92 182 119.92 70.3 90 70.3 205.46 0 115.46-70.3 205.46-70.31 90-182 119.92ZM146.16-380v-200h148.46l171.53-171.53v543.06L294.62-380H146.16Zm415.38 46.15v-294.3q40.46 22 62.54 61.96 22.07 39.96 22.07 86.19 0 45.61-22.27 84.88-22.27 39.27-62.34 61.27Z',
  captions_on: 'M212.31-180Q182-180 161-201q-21-21-21-51.31v-455.38Q140-738 161-759q21-21 51.31-21h535.38Q778-780 799-759q21 21 21 51.31v455.38Q820-222 799-201q-21 21-51.31 21H212.31Zm83.08-186.15H400q17.38 0 29.46-12.08 12.08-12.08 12.08-29.46v-27.69h-47.69V-420q0 2.31-1.93 4.23-1.92 1.92-4.23 1.92h-80q-2.3 0-4.23-1.92-1.92-1.92-1.92-4.23v-120q0-2.31 1.92-4.23 1.93-1.92 4.23-1.92h80q2.31 0 4.23 1.92 1.93 1.92 1.93 4.23v16.15h47.69v-28.46q0-17.38-12.08-29.46-12.08-12.08-29.46-12.08H295.39q-17.39 0-29.47 12.08-12.07 12.08-12.07 29.46v144.62q0 17.38 12.07 29.46 12.08 12.08 29.47 12.08Zm264.61 0h104.61q17.39 0 29.47-12.08 12.07-12.08 12.07-29.46v-27.69h-47.69V-420q0 2.31-1.92 4.23-1.93 1.92-4.23 1.92h-80q-2.31 0-4.23-1.92-1.93-1.92-1.93-4.23v-120q0-2.31 1.93-4.23 1.92-1.92 4.23-1.92h80q2.3 0 4.23 1.92 1.92 1.92 1.92 4.23v16.15h47.69v-28.46q0-17.38-12.07-29.46-12.08-12.08-29.47-12.08H560q-17.38 0-29.46 12.08-12.08 12.08-12.08 29.46v144.62q0 17.38 12.08 29.46 12.08 12.08 29.46 12.08Z',
  captions_off: 'M831.69-43.39 695.08-180H212.31Q182-180 161-201q-21-21-21-51.31v-455.38q0-6.23 1.73-11.39 1.73-5.15 4.81-9.46l-95.31-95.31L94-866.61 874.46-86.15l-42.77 42.76ZM820-253.85 694.46-379.39q5.85-5 8.77-12.53 2.92-7.54 2.92-15.77v-27.69h-47.69v16.92h-3.08l-89.23-89.23V-540q0-2.31 1.93-4.23 1.92-1.92 4.23-1.92h80q2.3 0 4.23 1.92 1.92 1.92 1.92 4.23v16.15h47.69v-28.46q0-17.38-12.07-29.46-12.08-12.08-29.47-12.08H560q-15.85 0-27.35 10.35-11.5 10.35-13.42 25.81v3.07L293.85-780h453.84Q778-780 799-759q21 21 21 51.31v453.84Zm-524.61-112.3H400q17.38 0 29.46-12.08 12.08-12.08 12.08-29.46v-7.39l-20.31-20.3h-27.38V-420q0 2.31-1.93 4.23-1.92 1.92-4.23 1.92h-80q-2.3 0-4.23-1.92-1.92-1.92-1.92-4.23v-124.31q0-2.31 1.92-4.23 1.93-1.92 4.23-1.92h16.93l-38.46-38.46H280q-11.23 3.07-18.69 13.3-7.46 10.24-7.46 23.31v144.62q0 17.38 12.07 29.46 12.08 12.08 29.47 12.08Z',
};

export class ImsButton extends Symbiote {

  static get icons() {
    return ICONS;
  }

  /**
   * @param {Object<string, string>} val
   */
  static set icons(val) {
    ICONS = val;
  }

  constructor() {
    super();
    this.role = 'button';
  }

  initCallback() {
    this.sub('icon', (val) => {
      if (!val || !Object.keys(ICONS).includes(val)) {
        return;
      }
      this.$.d = ICONS[val];
    });
  }
}
ImsButton.rootStyles = css`
  ims-button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    color: #fff;
    background-color: rgba(255, 255, 255, .1);
    height: 32px;
    width: 32px;
    border-radius: 100%;
    transition: .3s;

    &:hover {
      background-color: rgba(255, 255, 255, .3);
    }

    &[disabled] {
      opacity: .2;
      pointer-events: none;
    }

    &[hidden] {
      display: none;
    }

    &:active {
      transform: scale(.9);
    }

    svg {
      height: 20px;
      width: 20px;
    }
  }
`;

ImsButton.template = html`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
  <path fill="currentColor" ${{'@d': 'd'}} />
</svg>`;

ImsButton.bindAttributes({
  d: 'd',
  icon: 'icon',
});

ImsButton.reg('ims-button');

export default ImsButton;